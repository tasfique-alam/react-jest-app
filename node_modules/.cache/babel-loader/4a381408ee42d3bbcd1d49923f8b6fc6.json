{"ast":null,"code":"var _jsxFileName = \"/home/tasfique/Documents/Personal/Projects/jest-app/src/components/molecules/NoteForm.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { Formik } from 'formik';\nimport { createNote, getMyNotes, updateNote } from \"../../redux/actions/noteActions\";\nimport { useAppSelector } from \"../../hooks\";\nimport { selectHttpState } from \"../../redux/reducers/http/httpSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst NoteForm = _ref => {\n  _s();\n\n  let {\n    data\n  } = _ref;\n  const {\n    noteCreate,\n    noteUpdate\n  } = useAppSelector(selectHttpState);\n  const {\n    loading: createLoading,\n    success: createSuccess\n  } = noteCreate;\n  const {\n    loading: updateLoading,\n    success: updateSuccess\n  } = noteUpdate;\n\n  const reloadNotes = () => getMyNotes({\n    search: ''\n  });\n\n  useEffect(() => {\n    if (createSuccess) {\n      reloadNotes();\n      alert(\"Post created successfully!\");\n    }\n  }, [createSuccess]);\n  useEffect(() => {\n    if (updateSuccess) {\n      reloadNotes();\n      alert(\"Post updated successfully!\");\n    }\n  }, [updateSuccess]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Formik, {\n      initialValues: {\n        title: data === null || data === void 0 ? void 0 : data.title,\n        body: data === null || data === void 0 ? void 0 : data.body\n      },\n      enableReinitialize: true,\n      onSubmit: async (values, formikProps) => {\n        const {\n          setSubmitting\n        } = formikProps;\n        const data = {\n          title: values.title,\n          body: values.body\n        };\n\n        if (Number(data.id) > 0) {\n          var _data$id;\n\n          data.id = (_data$id = data.id) !== null && _data$id !== void 0 ? _data$id : 0;\n          updateNote(data);\n        } else {\n          createNote(data);\n        }\n\n        setSubmitting(false);\n      },\n      children: formikProps => {\n        const {\n          values,\n          handleChange,\n          handleSubmit\n        } = formikProps;\n        return /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [createLoading && /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Creating post...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 19\n            }, this), updateLoading && /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Saving post...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 15\n          }, this), data === null || data === void 0 ? void 0 : data.id, /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"title\",\n              placeholder: \"Enter title\",\n              value: values.title,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n              name: \"body\",\n              placeholder: \"Enter description\",\n              value: values.body,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n\n_s(NoteForm, \"WUmCKaqm3J19+sLJdvnogZm1Xus=\", false, function () {\n  return [useAppSelector];\n});\n\n_c = NoteForm;\nexport { NoteForm };\n\nvar _c;\n\n$RefreshReg$(_c, \"NoteForm\");","map":{"version":3,"names":["React","useEffect","Formik","createNote","getMyNotes","updateNote","useAppSelector","selectHttpState","NoteForm","data","noteCreate","noteUpdate","loading","createLoading","success","createSuccess","updateLoading","updateSuccess","reloadNotes","search","alert","title","body","values","formikProps","setSubmitting","Number","id","handleChange","handleSubmit"],"sources":["/home/tasfique/Documents/Personal/Projects/jest-app/src/components/molecules/NoteForm.tsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { Formik } from 'formik';\nimport { NoteFormParams } from '@/types';\nimport { createNote, getMyNotes, updateNote } from '@/redux/actions/noteActions';\nimport { useAppSelector } from '@/hooks';\nimport { selectHttpState } from '@/redux/reducers/http/httpSlice';\n\ninterface NoteFormProps {\n  data: NoteFormParams | null,\n}\n\nconst NoteForm: React.FC<NoteFormProps> = ({data}) => {\n  const {noteCreate, noteUpdate} = useAppSelector(selectHttpState);\n  const {loading: createLoading, success: createSuccess} = noteCreate;\n  const {loading: updateLoading, success: updateSuccess} = noteUpdate;\n\n  const reloadNotes = () => getMyNotes({search: ''});\n\n  useEffect(() => {\n    if (createSuccess) {\n      reloadNotes();\n      alert(\"Post created successfully!\");\n    }\n  }, [createSuccess]);\n\n  useEffect(() => {\n    if (updateSuccess) {\n      reloadNotes();\n      alert(\"Post updated successfully!\");\n    }\n  }, [updateSuccess]);\n\n  return (\n    <div>\n      <Formik\n        initialValues={{\n          title: data?.title,\n          body: data?.body,\n        }}\n        enableReinitialize={true}\n        onSubmit={async (values, formikProps) => {\n          const {setSubmitting} = formikProps;\n\n          const data: NoteFormParams = {\n            title: values.title,\n            body: values.body,\n          };\n\n          if (Number(data.id) > 0) {\n            data.id = data.id ?? 0;\n            updateNote(data);\n          } else {\n            createNote(data);\n          }\n\n          setSubmitting(false);\n        }}\n      >\n        {(formikProps) => {\n          const {values, handleChange, handleSubmit} = formikProps;\n          return (\n            <form onSubmit={handleSubmit}>\n              <div>\n                {createLoading && (\n                  <h4>Creating post...</h4>\n                )}\n\n                {updateLoading && (\n                  <h4>Saving post...</h4>\n                )}\n              </div>\n              {data?.id}\n              <div>\n                <input\n                  type={\"text\"}\n                  name={\"title\"}\n                  placeholder={\"Enter title\"}\n                  value={values.title}\n                  onChange={handleChange}\n                />\n              </div>\n              <div>\n                <textarea\n                  name={\"body\"}\n                  placeholder={\"Enter description\"}\n                  value={values.body}\n                  onChange={handleChange}\n                />\n              </div>\n              <div>\n                <button\n                  type={\"submit\"}\n                >\n                  Save\n                </button>\n              </div>\n            </form>\n          );\n        }}\n      </Formik>\n    </div>\n  );\n};\n\nexport { NoteForm };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}