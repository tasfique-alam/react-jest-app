{"ast":null,"code":"var _jsxFileName = \"/home/tasfique/Documents/Personal/Projects/jest-app/src/components/molecules/NoteForm.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { Formik } from 'formik';\nimport { createNote, getMyNotes, updateNote } from \"../../redux/actions/noteActions\";\nimport { useAppSelector } from \"../../hooks\";\nimport { selectHttpState } from \"../../redux/reducers/http/httpSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst NoteForm = _ref => {\n  _s();\n\n  let {\n    data,\n    id\n  } = _ref;\n  const {\n    noteCreate,\n    noteUpdate\n  } = useAppSelector(selectHttpState);\n  const {\n    loading: createLoading,\n    success: createSuccess\n  } = noteCreate;\n  const {\n    loading: updateLoading,\n    success: updateSuccess\n  } = noteUpdate;\n\n  const reloadNotes = () => getMyNotes({\n    search: ''\n  });\n\n  useEffect(() => {\n    if (createSuccess) {\n      reloadNotes();\n      alert(\"Post created successfully!\");\n    }\n  }, [createSuccess]);\n  useEffect(() => {\n    if (updateSuccess) {\n      reloadNotes();\n      alert(\"Post updated successfully!\");\n    }\n  }, [updateSuccess]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Formik, {\n      initialValues: {\n        title: data === null || data === void 0 ? void 0 : data.title,\n        body: data === null || data === void 0 ? void 0 : data.body\n      },\n      enableReinitialize: true,\n      onSubmit: async (values, formikProps) => {\n        const {\n          setSubmitting\n        } = formikProps;\n        const data = {\n          title: values.title,\n          body: values.body\n        };\n\n        if (Number(id) > 0) {\n          updateNote(data);\n        } else {\n          createNote(data);\n        }\n\n        setSubmitting(false);\n      },\n      children: formikProps => {\n        const {\n          values,\n          handleChange,\n          handleSubmit\n        } = formikProps;\n        return /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [createLoading && /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Creating post...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 19\n            }, this), updateLoading && /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Saving post...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"title\",\n              placeholder: \"Enter title\",\n              value: values.title,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n              name: \"body\",\n              placeholder: \"Enter description\",\n              value: values.body,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n};\n\n_s(NoteForm, \"bUfgR6UOW/FWU9EUSAfBfeicL0A=\", false, function () {\n  return [useAppSelector];\n});\n\n_c = NoteForm;\nexport { NoteForm };\n\nvar _c;\n\n$RefreshReg$(_c, \"NoteForm\");","map":{"version":3,"names":["React","useEffect","Formik","createNote","getMyNotes","updateNote","useAppSelector","selectHttpState","NoteForm","data","id","noteCreate","noteUpdate","loading","createLoading","success","createSuccess","updateLoading","updateSuccess","reloadNotes","search","alert","title","body","values","formikProps","setSubmitting","Number","handleChange","handleSubmit"],"sources":["/home/tasfique/Documents/Personal/Projects/jest-app/src/components/molecules/NoteForm.tsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { Formik } from 'formik';\nimport { NoteFormParams } from '@/types';\nimport { createNote, getMyNotes, updateNote } from '@/redux/actions/noteActions';\nimport { useAppSelector } from '@/hooks';\nimport { selectHttpState } from '@/redux/reducers/http/httpSlice';\n\ninterface NoteFormProps {\n  data: NoteFormParams | null,\n  id: any,\n}\n\nconst NoteForm: React.FC<NoteFormProps> = ({ data, id }) => {\n  const { noteCreate, noteUpdate } = useAppSelector(selectHttpState);\n  const { loading: createLoading, success: createSuccess } = noteCreate;\n  const { loading: updateLoading, success: updateSuccess } = noteUpdate;\n\n  const reloadNotes = () => getMyNotes({ search: '' });\n\n  useEffect(() => {\n    if (createSuccess) {\n      reloadNotes();\n      alert(\"Post created successfully!\");\n    }\n  }, [createSuccess]);\n\n  useEffect(() => {\n    if (updateSuccess) {\n      reloadNotes();\n      alert(\"Post updated successfully!\");\n    }\n  }, [updateSuccess]);\n\n  return (\n    <div>\n      <Formik\n        initialValues={{\n          title: data?.title,\n          body: data?.body,\n        }}\n        enableReinitialize={true}\n        onSubmit={async (values, formikProps) => {\n          const { setSubmitting } = formikProps;\n\n          const data: NoteFormParams = {\n            title: values.title,\n            body: values.body,\n          };\n\n          if (Number(id) > 0) {\n            updateNote(data);\n          } else {\n            createNote(data);\n          }\n\n          setSubmitting(false);\n        }}\n      >\n        {(formikProps) => {\n          const { values, handleChange, handleSubmit } = formikProps;\n          return (\n            <form onSubmit={handleSubmit}>\n              <div>\n                {createLoading && (\n                  <h4>Creating post...</h4>\n                )}\n\n                {updateLoading && (\n                  <h4>Saving post...</h4>\n                )}\n              </div>\n              <div>\n                <input\n                  type={\"text\"}\n                  name={\"title\"}\n                  placeholder={\"Enter title\"}\n                  value={values.title}\n                  onChange={handleChange}\n                />\n              </div>\n              <div>\n                <textarea\n                  name={\"body\"}\n                  placeholder={\"Enter description\"}\n                  value={values.body}\n                  onChange={handleChange}\n                />\n              </div>\n              <div>\n                <button\n                  type={\"submit\"}\n                >\n                  Save\n                </button>\n              </div>\n            </form>\n          );\n        }}\n      </Formik>\n    </div>\n  );\n};\n\nexport { NoteForm };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}