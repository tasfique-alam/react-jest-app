{"ast":null,"code":"var _jsxFileName = \"/home/tasfique/Documents/Personal/Projects/jest-app/src/components/molecules/NoteForm.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { Formik } from 'formik';\nimport { createNote, getMyNotes, updateNote } from \"../../redux/actions/noteActions\";\nimport { useAppSelector } from \"../../hooks\";\nimport { selectHttpState } from \"../../redux/reducers/http/httpSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst NoteForm = _ref => {\n  _s();\n\n  let {\n    data\n  } = _ref;\n  const {\n    noteCreate,\n    noteUpdate\n  } = useAppSelector(selectHttpState);\n  const {\n    loading: createLoading,\n    success: createSuccess\n  } = noteCreate;\n  const {\n    loading: updateLoading,\n    success: updateSuccess\n  } = noteUpdate;\n\n  const reloadNotes = () => getMyNotes({\n    search: ''\n  });\n\n  useEffect(() => {\n    if (createSuccess) {\n      reloadNotes();\n      alert(\"Post created successfully!\");\n    }\n  }, [createSuccess]);\n  useEffect(() => {\n    if (updateSuccess) {\n      reloadNotes();\n      alert(\"Post updated successfully!\");\n    }\n  }, [updateSuccess]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Formik, {\n      initialValues: {\n        title: data === null || data === void 0 ? void 0 : data.title,\n        body: data === null || data === void 0 ? void 0 : data.body,\n        id: data === null || data === void 0 ? void 0 : data.id\n      },\n      enableReinitialize: true,\n      onSubmit: async (values, formikProps) => {\n        const {\n          setSubmitting\n        } = formikProps;\n        const data = {\n          title: values.title,\n          body: values.body,\n          id: values === null || values === void 0 ? void 0 : values.id\n        };\n\n        if (Number(data.id) > 0) {\n          updateNote(data);\n        } else {\n          createNote(data);\n        }\n\n        setSubmitting(false);\n      },\n      children: formikProps => {\n        const {\n          values,\n          handleChange,\n          handleSubmit\n        } = formikProps;\n        return /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [createLoading && /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Creating post...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 19\n            }, this), updateLoading && /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Saving post...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, this), data === null || data === void 0 ? void 0 : data.id, /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"id\",\n              placeholder: \"Enter id\",\n              value: values.id,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"title\",\n              placeholder: \"Enter title\",\n              value: values.title,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n              name: \"body\",\n              placeholder: \"Enter description\",\n              value: values.body,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n\n_s(NoteForm, \"bUfgR6UOW/FWU9EUSAfBfeicL0A=\", false, function () {\n  return [useAppSelector];\n});\n\n_c = NoteForm;\nexport { NoteForm };\n\nvar _c;\n\n$RefreshReg$(_c, \"NoteForm\");","map":{"version":3,"names":["React","useEffect","Formik","createNote","getMyNotes","updateNote","useAppSelector","selectHttpState","NoteForm","data","noteCreate","noteUpdate","loading","createLoading","success","createSuccess","updateLoading","updateSuccess","reloadNotes","search","alert","title","body","id","values","formikProps","setSubmitting","Number","handleChange","handleSubmit"],"sources":["/home/tasfique/Documents/Personal/Projects/jest-app/src/components/molecules/NoteForm.tsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { Formik } from 'formik';\nimport { NoteFormParams } from '@/types';\nimport { createNote, getMyNotes, updateNote } from '@/redux/actions/noteActions';\nimport { useAppSelector } from '@/hooks';\nimport { selectHttpState } from '@/redux/reducers/http/httpSlice';\n\ninterface NoteFormProps {\n  data: NoteFormParams | null,\n}\n\nconst NoteForm: React.FC<NoteFormProps> = ({ data }) => {\n  const { noteCreate, noteUpdate } = useAppSelector(selectHttpState);\n  const { loading: createLoading, success: createSuccess } = noteCreate;\n  const { loading: updateLoading, success: updateSuccess } = noteUpdate;\n\n  const reloadNotes = () => getMyNotes({ search: '' });\n\n  useEffect(() => {\n    if (createSuccess) {\n      reloadNotes();\n      alert(\"Post created successfully!\");\n    }\n  }, [createSuccess]);\n\n  useEffect(() => {\n    if (updateSuccess) {\n      reloadNotes();\n      alert(\"Post updated successfully!\");\n    }\n  }, [updateSuccess]);\n\n  return (\n    <div>\n      <Formik\n        initialValues={{\n          title: data?.title,\n          body: data?.body,\n          id: data?.id\n        }}\n        enableReinitialize={true}\n        onSubmit={async (values, formikProps) => {\n          const { setSubmitting } = formikProps;\n\n          const data: NoteFormParams = {\n            title: values.title,\n            body: values.body,\n            id: values?.id\n          };\n\n          if (Number(data.id) > 0) {\n            updateNote(data);\n          } else {\n            createNote(data);\n          }\n\n          setSubmitting(false);\n        }}\n      >\n        {(formikProps) => {\n          const { values, handleChange, handleSubmit } = formikProps;\n          return (\n            <form onSubmit={handleSubmit}>\n              <div>\n                {createLoading && (\n                  <h4>Creating post...</h4>\n                )}\n\n                {updateLoading && (\n                  <h4>Saving post...</h4>\n                )}\n              </div>\n              {data?.id}\n              <div>\n                <input\n                  type={\"text\"}\n                  name={\"id\"}\n                  placeholder={\"Enter id\"}\n                  value={values.id}\n                  onChange={handleChange}\n                />\n              </div>\n              <div>\n                <input\n                  type={\"text\"}\n                  name={\"title\"}\n                  placeholder={\"Enter title\"}\n                  value={values.title}\n                  onChange={handleChange}\n                />\n              </div>\n              <div>\n                <textarea\n                  name={\"body\"}\n                  placeholder={\"Enter description\"}\n                  value={values.body}\n                  onChange={handleChange}\n                />\n              </div>\n              <div>\n                <button\n                  type={\"submit\"}\n                >\n                  Save\n                </button>\n              </div>\n            </form>\n          );\n        }}\n      </Formik>\n    </div>\n  );\n};\n\nexport { NoteForm };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}